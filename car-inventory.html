<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Car Inventory - Road Riser</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
<style>
.car-card {
  position: relative;
  overflow: hidden;
  border-radius: 16px;
  transition: transform 0.4s ease, box-shadow 0.4s ease;
  cursor: pointer;
}
.car-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 15px 35px rgba(0,0,0,0.9);
}
.car-card img {
  transition: transform 0.5s ease;
  border-bottom-left-radius: 16px;
  border-bottom-right-radius: 16px;
}
.car-card:hover img {
  transform: scale(1.1);
}
.car-card button {
  background: linear-gradient(90deg, #2563eb, #3b82f6, #60a5fa);
  color: white;
  font-weight: 600;
  box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
  transition: all 0.4s ease;
}
.car-card button:hover {
  transform: translateY(-2px);
  background: linear-gradient(90deg, #60a5fa, #3b82f6, #2563eb);
  box-shadow: 0 0 15px #60a5fa;
}
.color-swatch {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: inline-block;
  margin-right: 5px;
  border: 2px solid transparent;
  cursor: pointer;
  transition: transform 0.3s ease, border-color 0.3s ease;
}
.color-swatch:hover {
  transform: scale(1.2);
}
.color-swatch.selected {
  border-color: #facc15;
}

/* --- Tick Overlay --- */
.tick-overlay {
  position: absolute;
  top: 10px;
  left: 10px;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background-color: #facc15;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  z-index: 10;
  opacity: 0;
  transition: opacity 0.3s ease;
}
.car-card.selected .tick-overlay {
  opacity: 1;
}
</style>
</head>
<body class="bg-gray-100">

<section class="py-16 bg-white">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold text-center mb-12">ROAD RISER VEHICLES</h2>
    <div id="car-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      <!-- Car cards will be injected here dynamically -->
    </div>
  </div>
</section>

<script>
let cars = JSON.parse(localStorage.getItem('cars')) || [];
if (cars.length === 0) {
  const defaultCars = [
    { id: 1, name: "Renegade", brand: "Jeep", model: "Renegade", price: "₹45.00 LAKH", description: "Power & adventure-ready design.", year: 2023, colors: [{ color: "Light-Green", images: ["./IMAGES/CAR1.jpg"] }, { color: "Light-Green", images: ["./IMAGES/CAR1.jpg"] }] },
    { id: 2, name: "Pre LCI Compass", brand: "Jeep", model: "Compass LCI", price: "₹55.00 LAKH", description: "Luxury compact SUV.", year: 2023, colors: [{ color: "White", images: ["./IMAGES/CAR2.jpg"] }, { color: "Gray", images: ["./IMAGES/CAR2.jpg"] }] },
    { id: 3, name: "Compass 4X4", brand: "Jeep", model: "Compass 4X4", price: "₹60.00 LAKH", description: "Rugged 4X4 for off-road.", year: 2023, colors: [{ color: "Green", images: ["./IMAGES/CAR4.jpg"] }, { color: "Green", images: ["./IMAGES/CAR4.jpg"] }] },
    { id: 4, name: "Compass 4Xe", brand: "Jeep", model: "Compass 4Xe", price: "₹70.00 LAKH", description: "Hybrid SUV with electric performance.", year: 2023, colors: [{ color: "Blue", images: ["./IMAGES/CAR5.jpg"] }, { color: "Blue", images: ["./IMAGES/CAR5.jpg"] }] }
  ];
  localStorage.setItem('cars', JSON.stringify(defaultCars));
  cars = defaultCars;
}

function createCarCard(car) {
  const card = document.createElement('div');
  card.className = "car-card bg-white rounded-lg shadow overflow-hidden transition duration-300";

  const firstImage = car.colors?.[0]?.images?.[0] || './IMAGES/no-image.jpg';
  let swatchesHTML = '';
  if(car.colors){
    swatchesHTML = car.colors.map(c => `<span class="color-swatch" style="background-color:${c.color.toLowerCase()}"></span>`).join('');
  }

  card.innerHTML = `
    <div class="tick-overlay"><i class="fas fa-check"></i></div>
    <div class="relative">
      <img src="${firstImage}" alt="${car.name}" class="w-full h-48 object-cover">
    </div>
    <div class="p-4">
      <h3 class="text-xl font-semibold mb-1">${car.name}</h3>
      <p class="text-gray-500 mb-1">${car.brand} ${car.model}</p>
      <p class="text-gray-700 font-semibold mb-2">${car.price}</p>
      <div class="mb-2">${swatchesHTML}</div>
      <button class="w-full py-2 rounded transition">Explore</button>
    </div>
  `;

  // Click to select card
  card.addEventListener('click', () => {
    document.querySelectorAll('.car-card').forEach(c => c.classList.remove('selected'));
    card.classList.add('selected');
  });

  card.querySelector('button').addEventListener('click', (e) => {
    e.stopPropagation(); // Prevent selecting the card when clicking button
    window.location.href = `car-description.html?carId=${car.id}`;
  });

  return card;
}

const carGrid = document.getElementById('car-grid');
if (cars.length === 0) {
  carGrid.innerHTML = "<p class='text-center text-gray-500 col-span-full'>No cars available.</p>";
} else {
  cars.forEach(car => carGrid.appendChild(createCarCard(car)));
}
</script>

</body>
</html>
